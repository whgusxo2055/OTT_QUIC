services:
  ott_quic:
    build: .
    container_name: ott_quic_dev
    ports:
      - "8443:8443"
      - "9443:9443/udp"
    volumes:
      - ./data:/app/data
      - ./web:/app/web:ro
    command: ["./build/ott_server"]
    environment:
      - HOST=0.0.0.0
      - PORT=8443
  static_web:
    image: nginx:alpine
    container_name: ott_quic_static
    ports:
      - "8081:80"
    volumes:
      - ./web:/usr/share/nginx/html:ro
      - ./data:/app_data:ro
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
    restart: unless-stopped
